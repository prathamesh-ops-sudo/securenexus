# Secrets are managed via AWS Secrets Manager and synced to K8s during CI/CD deploys.
# See: securenexus/staging, securenexus/production in AWS Secrets Manager (us-east-1)
# The CI/CD pipeline (.github/workflows/ci-cd.yml) pulls secrets from Secrets Manager
# and creates/updates these K8s secrets automatically on each deploy.
#
# To bootstrap manually (one-time):
#   aws secretsmanager get-secret-value --secret-id securenexus/staging --query SecretString --output text | \
#     jq -r 'to_entries[] | "--from-literal=\(.key)=\(.value)"' | \
#     xargs kubectl create secret generic securenexus-secrets --namespace=staging --dry-run=client -o yaml | kubectl apply -f -
#
# Required keys in Secrets Manager: DATABASE_URL, SESSION_SECRET, S3_BUCKET_NAME, AWS_REGION
---
apiVersion: v1
kind: Secret
metadata:
  name: securenexus-secrets
  namespace: staging
type: Opaque
stringData:
  DATABASE_URL: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  SESSION_SECRET: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  S3_BUCKET_NAME: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  AWS_REGION: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
---
apiVersion: v1
kind: Secret
metadata:
  name: securenexus-secrets
  namespace: uat
type: Opaque
stringData:
  DATABASE_URL: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  SESSION_SECRET: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  S3_BUCKET_NAME: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  AWS_REGION: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
---
apiVersion: v1
kind: Secret
metadata:
  name: securenexus-secrets
  namespace: production
type: Opaque
stringData:
  DATABASE_URL: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  SESSION_SECRET: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  S3_BUCKET_NAME: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
  AWS_REGION: "PLACEHOLDER_MANAGED_BY_SECRETS_MANAGER"
